/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/bare-addon-resolve@1.9.4_bare-url@2.1.6";
exports.ids = ["vendor-chunks/bare-addon-resolve@1.9.4_bare-url@2.1.6"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/bare-addon-resolve@1.9.4_bare-url@2.1.6/node_modules/bare-addon-resolve/index.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/bare-addon-resolve@1.9.4_bare-url@2.1.6/node_modules/bare-addon-resolve/index.js ***!
  \*************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("const resolve = __webpack_require__(/*! bare-module-resolve */ \"(ssr)/./node_modules/.pnpm/bare-module-resolve@1.11.1_bare-url@2.1.6/node_modules/bare-module-resolve/index.js\")\nconst { Version } = __webpack_require__(/*! bare-semver */ \"(ssr)/./node_modules/.pnpm/bare-semver@1.0.1/node_modules/bare-semver/index.js\")\nconst errors = __webpack_require__(/*! ./lib/errors */ \"(ssr)/./node_modules/.pnpm/bare-addon-resolve@1.9.4_bare-url@2.1.6/node_modules/bare-addon-resolve/lib/errors.js\")\n\nmodule.exports = exports = function resolve(\n  specifier,\n  parentURL,\n  opts,\n  readPackage\n) {\n  if (typeof opts === 'function') {\n    readPackage = opts\n    opts = {}\n  } else if (typeof readPackage !== 'function') {\n    readPackage = defaultReadPackage\n  }\n\n  return {\n    *[Symbol.iterator]() {\n      const generator = exports.addon(specifier, parentURL, opts)\n\n      let next = generator.next()\n\n      while (next.done !== true) {\n        const value = next.value\n\n        if (value.package) {\n          next = generator.next(readPackage(value.package))\n        } else {\n          next = generator.next(yield value.resolution)\n        }\n      }\n\n      return next.value\n    },\n\n    async *[Symbol.asyncIterator]() {\n      const generator = exports.addon(specifier, parentURL, opts)\n\n      let next = generator.next()\n\n      while (next.done !== true) {\n        const value = next.value\n\n        if (value.package) {\n          next = generator.next(await readPackage(value.package))\n        } else {\n          next = generator.next(yield value.resolution)\n        }\n      }\n\n      return next.value\n    }\n  }\n}\n\nfunction defaultReadPackage() {\n  return null\n}\n\nconst { UNRESOLVED, YIELDED, RESOLVED } = resolve.constants\n\nexports.constants = {\n  UNRESOLVED,\n  YIELDED,\n  RESOLVED\n}\n\nexports.addon = function* (specifier, parentURL, opts = {}) {\n  const { resolutions = null } = opts\n\n  if (exports.startsWithWindowsDriveLetter(specifier)) {\n    specifier = '/' + specifier\n  }\n\n  let status\n\n  if (resolutions) {\n    status = yield* resolve.preresolved(specifier, resolutions, parentURL, opts)\n\n    if (status) return status\n  }\n\n  status = yield* exports.url(specifier, parentURL, opts)\n\n  if (status) return status\n\n  let version = null\n\n  const i = specifier.lastIndexOf('@')\n\n  if (i > 0) {\n    version = specifier.substring(i + 1)\n\n    try {\n      Version.parse(version)\n\n      specifier = specifier.substring(0, i)\n    } catch {\n      version = null\n    }\n  }\n\n  if (\n    specifier === '.' ||\n    specifier === '..' ||\n    specifier[0] === '/' ||\n    specifier[0] === '\\\\' ||\n    specifier.startsWith('./') ||\n    specifier.startsWith('.\\\\') ||\n    specifier.startsWith('../') ||\n    specifier.startsWith('..\\\\')\n  ) {\n    return yield* exports.directory(specifier, version, parentURL, opts)\n  }\n\n  return yield* exports.package(specifier, version, parentURL, opts)\n}\n\nexports.url = function* (url, parentURL, opts = {}) {\n  let resolution\n  try {\n    resolution = new URL(url)\n  } catch {\n    return UNRESOLVED\n  }\n\n  const resolved = yield { resolution }\n\n  return resolved ? RESOLVED : YIELDED\n}\n\nexports[\"package\"] = function* (\n  packageSpecifier,\n  packageVersion,\n  parentURL,\n  opts = {}\n) {\n  if (packageSpecifier === '') {\n    throw errors.INVALID_ADDON_SPECIFIER(\n      `Addon specifier '${packageSpecifier}' is not a valid package name`\n    )\n  }\n\n  let packageName\n\n  if (packageSpecifier[0] !== '@') {\n    packageName = packageSpecifier.split('/', 1).join()\n  } else {\n    if (!packageSpecifier.includes('/')) {\n      throw errors.INVALID_ADDON_SPECIFIER(\n        `Addon specifier '${packageSpecifier}' is not a valid package name`\n      )\n    }\n\n    packageName = packageSpecifier.split('/', 2).join('/')\n  }\n\n  if (\n    packageName[0] === '.' ||\n    packageName.includes('\\\\') ||\n    packageName.includes('%')\n  ) {\n    throw errors.INVALID_ADDON_SPECIFIER(\n      `Addon specifier '${packageSpecifier}' is not a valid package name`\n    )\n  }\n\n  const packageSubpath = '.' + packageSpecifier.substring(packageName.length)\n\n  const status = yield* exports.packageSelf(\n    packageName,\n    packageSubpath,\n    packageVersion,\n    parentURL,\n    opts\n  )\n\n  if (status) return status\n\n  parentURL = new URL(parentURL.href)\n\n  do {\n    const packageURL = new URL('node_modules/' + packageName + '/', parentURL)\n\n    parentURL.pathname = parentURL.pathname.substring(\n      0,\n      parentURL.pathname.lastIndexOf('/')\n    )\n\n    const info = yield { package: new URL('package.json', packageURL) }\n\n    if (info) {\n      return yield* exports.directory(\n        packageSubpath,\n        packageVersion,\n        packageURL,\n        opts\n      )\n    }\n  } while (parentURL.pathname !== '' && parentURL.pathname !== '/')\n\n  return UNRESOLVED\n}\n\nexports.packageSelf = function* (\n  packageName,\n  packageSubpath,\n  packageVersion,\n  parentURL,\n  opts = {}\n) {\n  for (const packageURL of resolve.lookupPackageScope(parentURL, opts)) {\n    const info = yield { package: packageURL }\n\n    if (info) {\n      if (info.name === packageName) {\n        return yield* exports.directory(\n          packageSubpath,\n          packageVersion,\n          packageURL,\n          opts\n        )\n      }\n\n      break\n    }\n  }\n\n  return UNRESOLVED\n}\n\nexports.lookupPrebuildsScope = function* lookupPrebuildsScope(url, opts = {}) {\n  const { resolutions = null } = opts\n\n  if (resolutions) {\n    for (const { resolution } of resolve.preresolved(\n      '#prebuilds',\n      resolutions,\n      url,\n      opts\n    )) {\n      if (resolution) return yield resolution\n    }\n  }\n\n  const scopeURL = new URL(url.href)\n\n  do {\n    yield new URL('prebuilds/', scopeURL)\n\n    scopeURL.pathname = scopeURL.pathname.substring(\n      0,\n      scopeURL.pathname.lastIndexOf('/')\n    )\n\n    if (\n      scopeURL.pathname.length === 3 &&\n      exports.isWindowsDriveLetter(scopeURL.pathname.substring(1))\n    ) {\n      break\n    }\n  } while (scopeURL.pathname !== '' && scopeURL.pathname !== '/')\n}\n\nexports.file = function* (filename, parentURL, opts = {}) {\n  if (parentURL.protocol === 'file:' && /%2f|%5c/i.test(filename)) {\n    throw errors.INVALID_ADDON_SPECIFIER(\n      `Addon specifier '${filename}' is invalid`\n    )\n  }\n\n  const { extensions = [] } = opts\n\n  let status = UNRESOLVED\n\n  for (const ext of extensions) {\n    if (yield { resolution: new URL(filename + ext, parentURL) }) {\n      return RESOLVED\n    }\n\n    status = YIELDED\n  }\n\n  return status\n}\n\nexports.directory = function* (dirname, version, parentURL, opts = {}) {\n  const {\n    resolutions = null,\n    host = null, // Shorthand for single host resolution\n    hosts = host !== null ? [host] : [],\n    builtins = [],\n    matchedConditions = []\n  } = opts\n\n  let directoryURL\n\n  if (\n    dirname[dirname.length - 1] === '/' ||\n    dirname[dirname.length - 1] === '\\\\'\n  ) {\n    directoryURL = new URL(dirname, parentURL)\n  } else {\n    directoryURL = new URL(dirname + '/', parentURL)\n  }\n\n  // Internal preresolution path, do not depend on this! It will be removed without\n  // warning.\n  if (resolutions) {\n    const status = yield* resolve.preresolved(\n      'bare:addon',\n      resolutions,\n      directoryURL,\n      opts\n    )\n\n    if (status) return status\n  }\n\n  const unversioned = version === null\n\n  let name = null\n\n  const info = yield { package: new URL('package.json', directoryURL) }\n\n  if (info) {\n    if (typeof info.name === 'string' && info.name !== '') {\n      if (info.name.includes('__')) {\n        throw errors.INVALID_PACKAGE_NAME(\n          `Package name '${info.name}' is invalid`\n        )\n      }\n\n      name = info.name.replace(/\\//g, '__').replace(/^@/, '')\n    } else {\n      return UNRESOLVED\n    }\n\n    if (typeof info.version === 'string' && info.version !== '') {\n      if (version !== null && info.version !== version) return UNRESOLVED\n\n      version = info.version\n    }\n  } else {\n    return UNRESOLVED\n  }\n\n  let status\n\n  status = yield* resolve.builtinTarget(name, version, builtins, opts)\n\n  if (status) return status\n\n  for (const prebuildsURL of exports.lookupPrebuildsScope(directoryURL, opts)) {\n    status = UNRESOLVED\n\n    for (const host of hosts) {\n      const conditions = host.split('-')\n\n      matchedConditions.push(...conditions)\n\n      if (version !== null) {\n        status |= yield* exports.file(\n          host + '/' + name + '@' + version,\n          prebuildsURL,\n          opts\n        )\n      }\n\n      if (unversioned) {\n        status |= yield* exports.file(host + '/' + name, prebuildsURL, opts)\n      }\n\n      for (const _ of conditions) matchedConditions.pop()\n    }\n\n    if (status === RESOLVED) return status\n  }\n\n  return yield* exports.linked(name, version, opts)\n}\n\nexports.linked = function* (name, version = null, opts = {}) {\n  const {\n    linked = true,\n    host = null, // Shorthand for single host resolution\n    hosts = host !== null ? [host] : [],\n    matchedConditions = []\n  } = opts\n\n  if (linked === false || hosts.length === 0) return UNRESOLVED\n\n  let status = UNRESOLVED\n\n  for (const host of hosts) {\n    const [platform = null] = host.split('-', 1)\n\n    if (platform === null) continue\n\n    matchedConditions.push(platform)\n\n    status |= yield* platformArtefact(name, version, platform, opts)\n\n    matchedConditions.pop()\n  }\n\n  return status\n}\n\nfunction* platformArtefact(name, version = null, platform, opts = {}) {\n  const { linkedProtocol = 'linked:' } = opts\n\n  if (platform === 'darwin' || platform === 'ios') {\n    if (version !== null) {\n      if (\n        yield {\n          resolution: new URL(\n            `${linkedProtocol}${name}.${version}.framework/${name}.${version}`\n          )\n        }\n      ) {\n        return RESOLVED\n      }\n\n      if (platform === 'darwin') {\n        if (\n          yield {\n            resolution: new URL(`${linkedProtocol}lib${name}.${version}.dylib`)\n          }\n        ) {\n          return RESOLVED\n        }\n      }\n    }\n\n    if (\n      yield {\n        resolution: new URL(`${linkedProtocol}${name}.framework/${name}`)\n      }\n    ) {\n      return RESOLVED\n    }\n\n    if (platform === 'darwin') {\n      if (\n        yield {\n          resolution: new URL(`${linkedProtocol}lib${name}.dylib`)\n        }\n      ) {\n        return RESOLVED\n      }\n    }\n\n    return YIELDED\n  }\n\n  if (platform === 'linux' || platform === 'android') {\n    if (version !== null) {\n      if (\n        yield {\n          resolution: new URL(`${linkedProtocol}lib${name}.${version}.so`)\n        }\n      ) {\n        return RESOLVED\n      }\n    }\n\n    if (\n      yield {\n        resolution: new URL(`${linkedProtocol}lib${name}.so`)\n      }\n    ) {\n      return RESOLVED\n    }\n\n    return YIELDED\n  }\n\n  if (platform === 'win32') {\n    if (version !== null) {\n      if (\n        yield {\n          resolution: new URL(`${linkedProtocol}${name}-${version}.dll`)\n        }\n      ) {\n        return RESOLVED\n      }\n    }\n\n    if (\n      yield {\n        resolution: new URL(`${linkedProtocol}${name}.dll`)\n      }\n    ) {\n      return RESOLVED\n    }\n  }\n\n  return UNRESOLVED\n}\n\nexports.isWindowsDriveLetter = resolve.isWindowsDriveLetter\n\nexports.startsWithWindowsDriveLetter = resolve.startsWithWindowsDriveLetter\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vYmFyZS1hZGRvbi1yZXNvbHZlQDEuOS40X2JhcmUtdXJsQDIuMS42L25vZGVfbW9kdWxlcy9iYXJlLWFkZG9uLXJlc29sdmUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMsMklBQXFCO0FBQzdDLFFBQVEsVUFBVSxFQUFFLG1CQUFPLENBQUMsbUdBQWE7QUFDekMsZUFBZSxtQkFBTyxDQUFDLHNJQUFjOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLGdDQUFnQzs7QUFFeEMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsNkNBQTZDO0FBQzFELFVBQVUscUJBQXFCOztBQUUvQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyx1Q0FBdUM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsZUFBZSxLQUFLLEtBQUs7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxlQUFlLEVBQUUsS0FBSyxHQUFHLFFBQVE7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLGVBQWUsRUFBRSxLQUFLO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0QkFBNEI7O0FBRTVCLG9DQUFvQyIsInNvdXJjZXMiOlsiL1VzZXJzL0pvYXF1aW5OYW0vRGVza3RvcC9NRU5URV9NQUVTVFJBLzFDTElFTlRTL0RPQlBST1RPQ09ML0RPQlZBTElEQVRPUi9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vYmFyZS1hZGRvbi1yZXNvbHZlQDEuOS40X2JhcmUtdXJsQDIuMS42L25vZGVfbW9kdWxlcy9iYXJlLWFkZG9uLXJlc29sdmUvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVzb2x2ZSA9IHJlcXVpcmUoJ2JhcmUtbW9kdWxlLXJlc29sdmUnKVxuY29uc3QgeyBWZXJzaW9uIH0gPSByZXF1aXJlKCdiYXJlLXNlbXZlcicpXG5jb25zdCBlcnJvcnMgPSByZXF1aXJlKCcuL2xpYi9lcnJvcnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmdW5jdGlvbiByZXNvbHZlKFxuICBzcGVjaWZpZXIsXG4gIHBhcmVudFVSTCxcbiAgb3B0cyxcbiAgcmVhZFBhY2thZ2Vcbikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWFkUGFja2FnZSA9IG9wdHNcbiAgICBvcHRzID0ge31cbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVhZFBhY2thZ2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZWFkUGFja2FnZSA9IGRlZmF1bHRSZWFkUGFja2FnZVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICBjb25zdCBnZW5lcmF0b3IgPSBleHBvcnRzLmFkZG9uKHNwZWNpZmllciwgcGFyZW50VVJMLCBvcHRzKVxuXG4gICAgICBsZXQgbmV4dCA9IGdlbmVyYXRvci5uZXh0KClcblxuICAgICAgd2hpbGUgKG5leHQuZG9uZSAhPT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG5leHQudmFsdWVcblxuICAgICAgICBpZiAodmFsdWUucGFja2FnZSkge1xuICAgICAgICAgIG5leHQgPSBnZW5lcmF0b3IubmV4dChyZWFkUGFja2FnZSh2YWx1ZS5wYWNrYWdlKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0ID0gZ2VuZXJhdG9yLm5leHQoeWllbGQgdmFsdWUucmVzb2x1dGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV4dC52YWx1ZVxuICAgIH0sXG5cbiAgICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgIGNvbnN0IGdlbmVyYXRvciA9IGV4cG9ydHMuYWRkb24oc3BlY2lmaWVyLCBwYXJlbnRVUkwsIG9wdHMpXG5cbiAgICAgIGxldCBuZXh0ID0gZ2VuZXJhdG9yLm5leHQoKVxuXG4gICAgICB3aGlsZSAobmV4dC5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbmV4dC52YWx1ZVxuXG4gICAgICAgIGlmICh2YWx1ZS5wYWNrYWdlKSB7XG4gICAgICAgICAgbmV4dCA9IGdlbmVyYXRvci5uZXh0KGF3YWl0IHJlYWRQYWNrYWdlKHZhbHVlLnBhY2thZ2UpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSBnZW5lcmF0b3IubmV4dCh5aWVsZCB2YWx1ZS5yZXNvbHV0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0LnZhbHVlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRSZWFkUGFja2FnZSgpIHtcbiAgcmV0dXJuIG51bGxcbn1cblxuY29uc3QgeyBVTlJFU09MVkVELCBZSUVMREVELCBSRVNPTFZFRCB9ID0gcmVzb2x2ZS5jb25zdGFudHNcblxuZXhwb3J0cy5jb25zdGFudHMgPSB7XG4gIFVOUkVTT0xWRUQsXG4gIFlJRUxERUQsXG4gIFJFU09MVkVEXG59XG5cbmV4cG9ydHMuYWRkb24gPSBmdW5jdGlvbiogKHNwZWNpZmllciwgcGFyZW50VVJMLCBvcHRzID0ge30pIHtcbiAgY29uc3QgeyByZXNvbHV0aW9ucyA9IG51bGwgfSA9IG9wdHNcblxuICBpZiAoZXhwb3J0cy5zdGFydHNXaXRoV2luZG93c0RyaXZlTGV0dGVyKHNwZWNpZmllcikpIHtcbiAgICBzcGVjaWZpZXIgPSAnLycgKyBzcGVjaWZpZXJcbiAgfVxuXG4gIGxldCBzdGF0dXNcblxuICBpZiAocmVzb2x1dGlvbnMpIHtcbiAgICBzdGF0dXMgPSB5aWVsZCogcmVzb2x2ZS5wcmVyZXNvbHZlZChzcGVjaWZpZXIsIHJlc29sdXRpb25zLCBwYXJlbnRVUkwsIG9wdHMpXG5cbiAgICBpZiAoc3RhdHVzKSByZXR1cm4gc3RhdHVzXG4gIH1cblxuICBzdGF0dXMgPSB5aWVsZCogZXhwb3J0cy51cmwoc3BlY2lmaWVyLCBwYXJlbnRVUkwsIG9wdHMpXG5cbiAgaWYgKHN0YXR1cykgcmV0dXJuIHN0YXR1c1xuXG4gIGxldCB2ZXJzaW9uID0gbnVsbFxuXG4gIGNvbnN0IGkgPSBzcGVjaWZpZXIubGFzdEluZGV4T2YoJ0AnKVxuXG4gIGlmIChpID4gMCkge1xuICAgIHZlcnNpb24gPSBzcGVjaWZpZXIuc3Vic3RyaW5nKGkgKyAxKVxuXG4gICAgdHJ5IHtcbiAgICAgIFZlcnNpb24ucGFyc2UodmVyc2lvbilcblxuICAgICAgc3BlY2lmaWVyID0gc3BlY2lmaWVyLnN1YnN0cmluZygwLCBpKVxuICAgIH0gY2F0Y2gge1xuICAgICAgdmVyc2lvbiA9IG51bGxcbiAgICB9XG4gIH1cblxuICBpZiAoXG4gICAgc3BlY2lmaWVyID09PSAnLicgfHxcbiAgICBzcGVjaWZpZXIgPT09ICcuLicgfHxcbiAgICBzcGVjaWZpZXJbMF0gPT09ICcvJyB8fFxuICAgIHNwZWNpZmllclswXSA9PT0gJ1xcXFwnIHx8XG4gICAgc3BlY2lmaWVyLnN0YXJ0c1dpdGgoJy4vJykgfHxcbiAgICBzcGVjaWZpZXIuc3RhcnRzV2l0aCgnLlxcXFwnKSB8fFxuICAgIHNwZWNpZmllci5zdGFydHNXaXRoKCcuLi8nKSB8fFxuICAgIHNwZWNpZmllci5zdGFydHNXaXRoKCcuLlxcXFwnKVxuICApIHtcbiAgICByZXR1cm4geWllbGQqIGV4cG9ydHMuZGlyZWN0b3J5KHNwZWNpZmllciwgdmVyc2lvbiwgcGFyZW50VVJMLCBvcHRzKVxuICB9XG5cbiAgcmV0dXJuIHlpZWxkKiBleHBvcnRzLnBhY2thZ2Uoc3BlY2lmaWVyLCB2ZXJzaW9uLCBwYXJlbnRVUkwsIG9wdHMpXG59XG5cbmV4cG9ydHMudXJsID0gZnVuY3Rpb24qICh1cmwsIHBhcmVudFVSTCwgb3B0cyA9IHt9KSB7XG4gIGxldCByZXNvbHV0aW9uXG4gIHRyeSB7XG4gICAgcmVzb2x1dGlvbiA9IG5ldyBVUkwodXJsKVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gVU5SRVNPTFZFRFxuICB9XG5cbiAgY29uc3QgcmVzb2x2ZWQgPSB5aWVsZCB7IHJlc29sdXRpb24gfVxuXG4gIHJldHVybiByZXNvbHZlZCA/IFJFU09MVkVEIDogWUlFTERFRFxufVxuXG5leHBvcnRzLnBhY2thZ2UgPSBmdW5jdGlvbiogKFxuICBwYWNrYWdlU3BlY2lmaWVyLFxuICBwYWNrYWdlVmVyc2lvbixcbiAgcGFyZW50VVJMLFxuICBvcHRzID0ge31cbikge1xuICBpZiAocGFja2FnZVNwZWNpZmllciA9PT0gJycpIHtcbiAgICB0aHJvdyBlcnJvcnMuSU5WQUxJRF9BRERPTl9TUEVDSUZJRVIoXG4gICAgICBgQWRkb24gc3BlY2lmaWVyICcke3BhY2thZ2VTcGVjaWZpZXJ9JyBpcyBub3QgYSB2YWxpZCBwYWNrYWdlIG5hbWVgXG4gICAgKVxuICB9XG5cbiAgbGV0IHBhY2thZ2VOYW1lXG5cbiAgaWYgKHBhY2thZ2VTcGVjaWZpZXJbMF0gIT09ICdAJykge1xuICAgIHBhY2thZ2VOYW1lID0gcGFja2FnZVNwZWNpZmllci5zcGxpdCgnLycsIDEpLmpvaW4oKVxuICB9IGVsc2Uge1xuICAgIGlmICghcGFja2FnZVNwZWNpZmllci5pbmNsdWRlcygnLycpKSB7XG4gICAgICB0aHJvdyBlcnJvcnMuSU5WQUxJRF9BRERPTl9TUEVDSUZJRVIoXG4gICAgICAgIGBBZGRvbiBzcGVjaWZpZXIgJyR7cGFja2FnZVNwZWNpZmllcn0nIGlzIG5vdCBhIHZhbGlkIHBhY2thZ2UgbmFtZWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBwYWNrYWdlTmFtZSA9IHBhY2thZ2VTcGVjaWZpZXIuc3BsaXQoJy8nLCAyKS5qb2luKCcvJylcbiAgfVxuXG4gIGlmIChcbiAgICBwYWNrYWdlTmFtZVswXSA9PT0gJy4nIHx8XG4gICAgcGFja2FnZU5hbWUuaW5jbHVkZXMoJ1xcXFwnKSB8fFxuICAgIHBhY2thZ2VOYW1lLmluY2x1ZGVzKCclJylcbiAgKSB7XG4gICAgdGhyb3cgZXJyb3JzLklOVkFMSURfQURET05fU1BFQ0lGSUVSKFxuICAgICAgYEFkZG9uIHNwZWNpZmllciAnJHtwYWNrYWdlU3BlY2lmaWVyfScgaXMgbm90IGEgdmFsaWQgcGFja2FnZSBuYW1lYFxuICAgIClcbiAgfVxuXG4gIGNvbnN0IHBhY2thZ2VTdWJwYXRoID0gJy4nICsgcGFja2FnZVNwZWNpZmllci5zdWJzdHJpbmcocGFja2FnZU5hbWUubGVuZ3RoKVxuXG4gIGNvbnN0IHN0YXR1cyA9IHlpZWxkKiBleHBvcnRzLnBhY2thZ2VTZWxmKFxuICAgIHBhY2thZ2VOYW1lLFxuICAgIHBhY2thZ2VTdWJwYXRoLFxuICAgIHBhY2thZ2VWZXJzaW9uLFxuICAgIHBhcmVudFVSTCxcbiAgICBvcHRzXG4gIClcblxuICBpZiAoc3RhdHVzKSByZXR1cm4gc3RhdHVzXG5cbiAgcGFyZW50VVJMID0gbmV3IFVSTChwYXJlbnRVUkwuaHJlZilcblxuICBkbyB7XG4gICAgY29uc3QgcGFja2FnZVVSTCA9IG5ldyBVUkwoJ25vZGVfbW9kdWxlcy8nICsgcGFja2FnZU5hbWUgKyAnLycsIHBhcmVudFVSTClcblxuICAgIHBhcmVudFVSTC5wYXRobmFtZSA9IHBhcmVudFVSTC5wYXRobmFtZS5zdWJzdHJpbmcoXG4gICAgICAwLFxuICAgICAgcGFyZW50VVJMLnBhdGhuYW1lLmxhc3RJbmRleE9mKCcvJylcbiAgICApXG5cbiAgICBjb25zdCBpbmZvID0geWllbGQgeyBwYWNrYWdlOiBuZXcgVVJMKCdwYWNrYWdlLmpzb24nLCBwYWNrYWdlVVJMKSB9XG5cbiAgICBpZiAoaW5mbykge1xuICAgICAgcmV0dXJuIHlpZWxkKiBleHBvcnRzLmRpcmVjdG9yeShcbiAgICAgICAgcGFja2FnZVN1YnBhdGgsXG4gICAgICAgIHBhY2thZ2VWZXJzaW9uLFxuICAgICAgICBwYWNrYWdlVVJMLFxuICAgICAgICBvcHRzXG4gICAgICApXG4gICAgfVxuICB9IHdoaWxlIChwYXJlbnRVUkwucGF0aG5hbWUgIT09ICcnICYmIHBhcmVudFVSTC5wYXRobmFtZSAhPT0gJy8nKVxuXG4gIHJldHVybiBVTlJFU09MVkVEXG59XG5cbmV4cG9ydHMucGFja2FnZVNlbGYgPSBmdW5jdGlvbiogKFxuICBwYWNrYWdlTmFtZSxcbiAgcGFja2FnZVN1YnBhdGgsXG4gIHBhY2thZ2VWZXJzaW9uLFxuICBwYXJlbnRVUkwsXG4gIG9wdHMgPSB7fVxuKSB7XG4gIGZvciAoY29uc3QgcGFja2FnZVVSTCBvZiByZXNvbHZlLmxvb2t1cFBhY2thZ2VTY29wZShwYXJlbnRVUkwsIG9wdHMpKSB7XG4gICAgY29uc3QgaW5mbyA9IHlpZWxkIHsgcGFja2FnZTogcGFja2FnZVVSTCB9XG5cbiAgICBpZiAoaW5mbykge1xuICAgICAgaWYgKGluZm8ubmFtZSA9PT0gcGFja2FnZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHlpZWxkKiBleHBvcnRzLmRpcmVjdG9yeShcbiAgICAgICAgICBwYWNrYWdlU3VicGF0aCxcbiAgICAgICAgICBwYWNrYWdlVmVyc2lvbixcbiAgICAgICAgICBwYWNrYWdlVVJMLFxuICAgICAgICAgIG9wdHNcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBVTlJFU09MVkVEXG59XG5cbmV4cG9ydHMubG9va3VwUHJlYnVpbGRzU2NvcGUgPSBmdW5jdGlvbiogbG9va3VwUHJlYnVpbGRzU2NvcGUodXJsLCBvcHRzID0ge30pIHtcbiAgY29uc3QgeyByZXNvbHV0aW9ucyA9IG51bGwgfSA9IG9wdHNcblxuICBpZiAocmVzb2x1dGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IHsgcmVzb2x1dGlvbiB9IG9mIHJlc29sdmUucHJlcmVzb2x2ZWQoXG4gICAgICAnI3ByZWJ1aWxkcycsXG4gICAgICByZXNvbHV0aW9ucyxcbiAgICAgIHVybCxcbiAgICAgIG9wdHNcbiAgICApKSB7XG4gICAgICBpZiAocmVzb2x1dGlvbikgcmV0dXJuIHlpZWxkIHJlc29sdXRpb25cbiAgICB9XG4gIH1cblxuICBjb25zdCBzY29wZVVSTCA9IG5ldyBVUkwodXJsLmhyZWYpXG5cbiAgZG8ge1xuICAgIHlpZWxkIG5ldyBVUkwoJ3ByZWJ1aWxkcy8nLCBzY29wZVVSTClcblxuICAgIHNjb3BlVVJMLnBhdGhuYW1lID0gc2NvcGVVUkwucGF0aG5hbWUuc3Vic3RyaW5nKFxuICAgICAgMCxcbiAgICAgIHNjb3BlVVJMLnBhdGhuYW1lLmxhc3RJbmRleE9mKCcvJylcbiAgICApXG5cbiAgICBpZiAoXG4gICAgICBzY29wZVVSTC5wYXRobmFtZS5sZW5ndGggPT09IDMgJiZcbiAgICAgIGV4cG9ydHMuaXNXaW5kb3dzRHJpdmVMZXR0ZXIoc2NvcGVVUkwucGF0aG5hbWUuc3Vic3RyaW5nKDEpKVxuICAgICkge1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH0gd2hpbGUgKHNjb3BlVVJMLnBhdGhuYW1lICE9PSAnJyAmJiBzY29wZVVSTC5wYXRobmFtZSAhPT0gJy8nKVxufVxuXG5leHBvcnRzLmZpbGUgPSBmdW5jdGlvbiogKGZpbGVuYW1lLCBwYXJlbnRVUkwsIG9wdHMgPSB7fSkge1xuICBpZiAocGFyZW50VVJMLnByb3RvY29sID09PSAnZmlsZTonICYmIC8lMmZ8JTVjL2kudGVzdChmaWxlbmFtZSkpIHtcbiAgICB0aHJvdyBlcnJvcnMuSU5WQUxJRF9BRERPTl9TUEVDSUZJRVIoXG4gICAgICBgQWRkb24gc3BlY2lmaWVyICcke2ZpbGVuYW1lfScgaXMgaW52YWxpZGBcbiAgICApXG4gIH1cblxuICBjb25zdCB7IGV4dGVuc2lvbnMgPSBbXSB9ID0gb3B0c1xuXG4gIGxldCBzdGF0dXMgPSBVTlJFU09MVkVEXG5cbiAgZm9yIChjb25zdCBleHQgb2YgZXh0ZW5zaW9ucykge1xuICAgIGlmICh5aWVsZCB7IHJlc29sdXRpb246IG5ldyBVUkwoZmlsZW5hbWUgKyBleHQsIHBhcmVudFVSTCkgfSkge1xuICAgICAgcmV0dXJuIFJFU09MVkVEXG4gICAgfVxuXG4gICAgc3RhdHVzID0gWUlFTERFRFxuICB9XG5cbiAgcmV0dXJuIHN0YXR1c1xufVxuXG5leHBvcnRzLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKiAoZGlybmFtZSwgdmVyc2lvbiwgcGFyZW50VVJMLCBvcHRzID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHJlc29sdXRpb25zID0gbnVsbCxcbiAgICBob3N0ID0gbnVsbCwgLy8gU2hvcnRoYW5kIGZvciBzaW5nbGUgaG9zdCByZXNvbHV0aW9uXG4gICAgaG9zdHMgPSBob3N0ICE9PSBudWxsID8gW2hvc3RdIDogW10sXG4gICAgYnVpbHRpbnMgPSBbXSxcbiAgICBtYXRjaGVkQ29uZGl0aW9ucyA9IFtdXG4gIH0gPSBvcHRzXG5cbiAgbGV0IGRpcmVjdG9yeVVSTFxuXG4gIGlmIChcbiAgICBkaXJuYW1lW2Rpcm5hbWUubGVuZ3RoIC0gMV0gPT09ICcvJyB8fFxuICAgIGRpcm5hbWVbZGlybmFtZS5sZW5ndGggLSAxXSA9PT0gJ1xcXFwnXG4gICkge1xuICAgIGRpcmVjdG9yeVVSTCA9IG5ldyBVUkwoZGlybmFtZSwgcGFyZW50VVJMKVxuICB9IGVsc2Uge1xuICAgIGRpcmVjdG9yeVVSTCA9IG5ldyBVUkwoZGlybmFtZSArICcvJywgcGFyZW50VVJMKVxuICB9XG5cbiAgLy8gSW50ZXJuYWwgcHJlcmVzb2x1dGlvbiBwYXRoLCBkbyBub3QgZGVwZW5kIG9uIHRoaXMhIEl0IHdpbGwgYmUgcmVtb3ZlZCB3aXRob3V0XG4gIC8vIHdhcm5pbmcuXG4gIGlmIChyZXNvbHV0aW9ucykge1xuICAgIGNvbnN0IHN0YXR1cyA9IHlpZWxkKiByZXNvbHZlLnByZXJlc29sdmVkKFxuICAgICAgJ2JhcmU6YWRkb24nLFxuICAgICAgcmVzb2x1dGlvbnMsXG4gICAgICBkaXJlY3RvcnlVUkwsXG4gICAgICBvcHRzXG4gICAgKVxuXG4gICAgaWYgKHN0YXR1cykgcmV0dXJuIHN0YXR1c1xuICB9XG5cbiAgY29uc3QgdW52ZXJzaW9uZWQgPSB2ZXJzaW9uID09PSBudWxsXG5cbiAgbGV0IG5hbWUgPSBudWxsXG5cbiAgY29uc3QgaW5mbyA9IHlpZWxkIHsgcGFja2FnZTogbmV3IFVSTCgncGFja2FnZS5qc29uJywgZGlyZWN0b3J5VVJMKSB9XG5cbiAgaWYgKGluZm8pIHtcbiAgICBpZiAodHlwZW9mIGluZm8ubmFtZSA9PT0gJ3N0cmluZycgJiYgaW5mby5uYW1lICE9PSAnJykge1xuICAgICAgaWYgKGluZm8ubmFtZS5pbmNsdWRlcygnX18nKSkge1xuICAgICAgICB0aHJvdyBlcnJvcnMuSU5WQUxJRF9QQUNLQUdFX05BTUUoXG4gICAgICAgICAgYFBhY2thZ2UgbmFtZSAnJHtpbmZvLm5hbWV9JyBpcyBpbnZhbGlkYFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIG5hbWUgPSBpbmZvLm5hbWUucmVwbGFjZSgvXFwvL2csICdfXycpLnJlcGxhY2UoL15ALywgJycpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBVTlJFU09MVkVEXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbmZvLnZlcnNpb24gPT09ICdzdHJpbmcnICYmIGluZm8udmVyc2lvbiAhPT0gJycpIHtcbiAgICAgIGlmICh2ZXJzaW9uICE9PSBudWxsICYmIGluZm8udmVyc2lvbiAhPT0gdmVyc2lvbikgcmV0dXJuIFVOUkVTT0xWRURcblxuICAgICAgdmVyc2lvbiA9IGluZm8udmVyc2lvblxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gVU5SRVNPTFZFRFxuICB9XG5cbiAgbGV0IHN0YXR1c1xuXG4gIHN0YXR1cyA9IHlpZWxkKiByZXNvbHZlLmJ1aWx0aW5UYXJnZXQobmFtZSwgdmVyc2lvbiwgYnVpbHRpbnMsIG9wdHMpXG5cbiAgaWYgKHN0YXR1cykgcmV0dXJuIHN0YXR1c1xuXG4gIGZvciAoY29uc3QgcHJlYnVpbGRzVVJMIG9mIGV4cG9ydHMubG9va3VwUHJlYnVpbGRzU2NvcGUoZGlyZWN0b3J5VVJMLCBvcHRzKSkge1xuICAgIHN0YXR1cyA9IFVOUkVTT0xWRURcblxuICAgIGZvciAoY29uc3QgaG9zdCBvZiBob3N0cykge1xuICAgICAgY29uc3QgY29uZGl0aW9ucyA9IGhvc3Quc3BsaXQoJy0nKVxuXG4gICAgICBtYXRjaGVkQ29uZGl0aW9ucy5wdXNoKC4uLmNvbmRpdGlvbnMpXG5cbiAgICAgIGlmICh2ZXJzaW9uICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXR1cyB8PSB5aWVsZCogZXhwb3J0cy5maWxlKFxuICAgICAgICAgIGhvc3QgKyAnLycgKyBuYW1lICsgJ0AnICsgdmVyc2lvbixcbiAgICAgICAgICBwcmVidWlsZHNVUkwsXG4gICAgICAgICAgb3B0c1xuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGlmICh1bnZlcnNpb25lZCkge1xuICAgICAgICBzdGF0dXMgfD0geWllbGQqIGV4cG9ydHMuZmlsZShob3N0ICsgJy8nICsgbmFtZSwgcHJlYnVpbGRzVVJMLCBvcHRzKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IF8gb2YgY29uZGl0aW9ucykgbWF0Y2hlZENvbmRpdGlvbnMucG9wKClcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBSRVNPTFZFRCkgcmV0dXJuIHN0YXR1c1xuICB9XG5cbiAgcmV0dXJuIHlpZWxkKiBleHBvcnRzLmxpbmtlZChuYW1lLCB2ZXJzaW9uLCBvcHRzKVxufVxuXG5leHBvcnRzLmxpbmtlZCA9IGZ1bmN0aW9uKiAobmFtZSwgdmVyc2lvbiA9IG51bGwsIG9wdHMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbGlua2VkID0gdHJ1ZSxcbiAgICBob3N0ID0gbnVsbCwgLy8gU2hvcnRoYW5kIGZvciBzaW5nbGUgaG9zdCByZXNvbHV0aW9uXG4gICAgaG9zdHMgPSBob3N0ICE9PSBudWxsID8gW2hvc3RdIDogW10sXG4gICAgbWF0Y2hlZENvbmRpdGlvbnMgPSBbXVxuICB9ID0gb3B0c1xuXG4gIGlmIChsaW5rZWQgPT09IGZhbHNlIHx8IGhvc3RzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFVOUkVTT0xWRURcblxuICBsZXQgc3RhdHVzID0gVU5SRVNPTFZFRFxuXG4gIGZvciAoY29uc3QgaG9zdCBvZiBob3N0cykge1xuICAgIGNvbnN0IFtwbGF0Zm9ybSA9IG51bGxdID0gaG9zdC5zcGxpdCgnLScsIDEpXG5cbiAgICBpZiAocGxhdGZvcm0gPT09IG51bGwpIGNvbnRpbnVlXG5cbiAgICBtYXRjaGVkQ29uZGl0aW9ucy5wdXNoKHBsYXRmb3JtKVxuXG4gICAgc3RhdHVzIHw9IHlpZWxkKiBwbGF0Zm9ybUFydGVmYWN0KG5hbWUsIHZlcnNpb24sIHBsYXRmb3JtLCBvcHRzKVxuXG4gICAgbWF0Y2hlZENvbmRpdGlvbnMucG9wKClcbiAgfVxuXG4gIHJldHVybiBzdGF0dXNcbn1cblxuZnVuY3Rpb24qIHBsYXRmb3JtQXJ0ZWZhY3QobmFtZSwgdmVyc2lvbiA9IG51bGwsIHBsYXRmb3JtLCBvcHRzID0ge30pIHtcbiAgY29uc3QgeyBsaW5rZWRQcm90b2NvbCA9ICdsaW5rZWQ6JyB9ID0gb3B0c1xuXG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2RhcndpbicgfHwgcGxhdGZvcm0gPT09ICdpb3MnKSB7XG4gICAgaWYgKHZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgeWllbGQge1xuICAgICAgICAgIHJlc29sdXRpb246IG5ldyBVUkwoXG4gICAgICAgICAgICBgJHtsaW5rZWRQcm90b2NvbH0ke25hbWV9LiR7dmVyc2lvbn0uZnJhbWV3b3JrLyR7bmFtZX0uJHt2ZXJzaW9ufWBcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICkge1xuICAgICAgICByZXR1cm4gUkVTT0xWRURcbiAgICAgIH1cblxuICAgICAgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgcmVzb2x1dGlvbjogbmV3IFVSTChgJHtsaW5rZWRQcm90b2NvbH1saWIke25hbWV9LiR7dmVyc2lvbn0uZHlsaWJgKVxuICAgICAgICAgIH1cbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIFJFU09MVkVEXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB5aWVsZCB7XG4gICAgICAgIHJlc29sdXRpb246IG5ldyBVUkwoYCR7bGlua2VkUHJvdG9jb2x9JHtuYW1lfS5mcmFtZXdvcmsvJHtuYW1lfWApXG4gICAgICB9XG4gICAgKSB7XG4gICAgICByZXR1cm4gUkVTT0xWRURcbiAgICB9XG5cbiAgICBpZiAocGxhdGZvcm0gPT09ICdkYXJ3aW4nKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHlpZWxkIHtcbiAgICAgICAgICByZXNvbHV0aW9uOiBuZXcgVVJMKGAke2xpbmtlZFByb3RvY29sfWxpYiR7bmFtZX0uZHlsaWJgKVxuICAgICAgICB9XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIFJFU09MVkVEXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFlJRUxERURcbiAgfVxuXG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2xpbnV4JyB8fCBwbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgaWYgKHZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgeWllbGQge1xuICAgICAgICAgIHJlc29sdXRpb246IG5ldyBVUkwoYCR7bGlua2VkUHJvdG9jb2x9bGliJHtuYW1lfS4ke3ZlcnNpb259LnNvYClcbiAgICAgICAgfVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBSRVNPTFZFRFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHlpZWxkIHtcbiAgICAgICAgcmVzb2x1dGlvbjogbmV3IFVSTChgJHtsaW5rZWRQcm90b2NvbH1saWIke25hbWV9LnNvYClcbiAgICAgIH1cbiAgICApIHtcbiAgICAgIHJldHVybiBSRVNPTFZFRFxuICAgIH1cblxuICAgIHJldHVybiBZSUVMREVEXG4gIH1cblxuICBpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpIHtcbiAgICBpZiAodmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgaWYgKFxuICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgcmVzb2x1dGlvbjogbmV3IFVSTChgJHtsaW5rZWRQcm90b2NvbH0ke25hbWV9LSR7dmVyc2lvbn0uZGxsYClcbiAgICAgICAgfVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBSRVNPTFZFRFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHlpZWxkIHtcbiAgICAgICAgcmVzb2x1dGlvbjogbmV3IFVSTChgJHtsaW5rZWRQcm90b2NvbH0ke25hbWV9LmRsbGApXG4gICAgICB9XG4gICAgKSB7XG4gICAgICByZXR1cm4gUkVTT0xWRURcbiAgICB9XG4gIH1cblxuICByZXR1cm4gVU5SRVNPTFZFRFxufVxuXG5leHBvcnRzLmlzV2luZG93c0RyaXZlTGV0dGVyID0gcmVzb2x2ZS5pc1dpbmRvd3NEcml2ZUxldHRlclxuXG5leHBvcnRzLnN0YXJ0c1dpdGhXaW5kb3dzRHJpdmVMZXR0ZXIgPSByZXNvbHZlLnN0YXJ0c1dpdGhXaW5kb3dzRHJpdmVMZXR0ZXJcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/bare-addon-resolve@1.9.4_bare-url@2.1.6/node_modules/bare-addon-resolve/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/bare-addon-resolve@1.9.4_bare-url@2.1.6/node_modules/bare-addon-resolve/lib/errors.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/bare-addon-resolve@1.9.4_bare-url@2.1.6/node_modules/bare-addon-resolve/lib/errors.js ***!
  \******************************************************************************************************************/
/***/ ((module) => {

eval("module.exports = class AddonResolveError extends Error {\n  constructor(msg, code, fn = AddonResolveError) {\n    super(`${code}: ${msg}`)\n    this.code = code\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, fn)\n    }\n  }\n\n  get name() {\n    return 'AddonResolveError'\n  }\n\n  static INVALID_ADDON_SPECIFIER(msg) {\n    return new AddonResolveError(\n      msg,\n      'INVALID_ADDON_SPECIFIER',\n      AddonResolveError.INVALID_ADDON_SPECIFIER\n    )\n  }\n\n  static INVALID_PACKAGE_NAME(msg) {\n    return new AddonResolveError(\n      msg,\n      'INVALID_PACKAGE_NAME',\n      AddonResolveError.INVALID_PACKAGE_NAME\n    )\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vYmFyZS1hZGRvbi1yZXNvbHZlQDEuOS40X2JhcmUtdXJsQDIuMS42L25vZGVfbW9kdWxlcy9iYXJlLWFkZG9uLXJlc29sdmUvbGliL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsYUFBYSxLQUFLLElBQUksSUFBSTtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL0pvYXF1aW5OYW0vRGVza3RvcC9NRU5URV9NQUVTVFJBLzFDTElFTlRTL0RPQlBST1RPQ09ML0RPQlZBTElEQVRPUi9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vYmFyZS1hZGRvbi1yZXNvbHZlQDEuOS40X2JhcmUtdXJsQDIuMS42L25vZGVfbW9kdWxlcy9iYXJlLWFkZG9uLXJlc29sdmUvbGliL2Vycm9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEFkZG9uUmVzb2x2ZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihtc2csIGNvZGUsIGZuID0gQWRkb25SZXNvbHZlRXJyb3IpIHtcbiAgICBzdXBlcihgJHtjb2RlfTogJHttc2d9YClcbiAgICB0aGlzLmNvZGUgPSBjb2RlXG5cbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIGZuKVxuICAgIH1cbiAgfVxuXG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiAnQWRkb25SZXNvbHZlRXJyb3InXG4gIH1cblxuICBzdGF0aWMgSU5WQUxJRF9BRERPTl9TUEVDSUZJRVIobXNnKSB7XG4gICAgcmV0dXJuIG5ldyBBZGRvblJlc29sdmVFcnJvcihcbiAgICAgIG1zZyxcbiAgICAgICdJTlZBTElEX0FERE9OX1NQRUNJRklFUicsXG4gICAgICBBZGRvblJlc29sdmVFcnJvci5JTlZBTElEX0FERE9OX1NQRUNJRklFUlxuICAgIClcbiAgfVxuXG4gIHN0YXRpYyBJTlZBTElEX1BBQ0tBR0VfTkFNRShtc2cpIHtcbiAgICByZXR1cm4gbmV3IEFkZG9uUmVzb2x2ZUVycm9yKFxuICAgICAgbXNnLFxuICAgICAgJ0lOVkFMSURfUEFDS0FHRV9OQU1FJyxcbiAgICAgIEFkZG9uUmVzb2x2ZUVycm9yLklOVkFMSURfUEFDS0FHRV9OQU1FXG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/bare-addon-resolve@1.9.4_bare-url@2.1.6/node_modules/bare-addon-resolve/lib/errors.js\n");

/***/ })

};
;